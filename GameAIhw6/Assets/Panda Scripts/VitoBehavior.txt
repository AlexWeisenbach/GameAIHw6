tree("Root")
	tree("Idle")

tree("Idle")
	sequence
		Wait 3.0
		fallback
			while
				TestIsTired()
				tree("Tired")
			while 
				TestIsHungry()
				tree("Hungry")
			while 
				TestIsLonely()
				tree("Lonely")
			while 
				TestIsPlayful()
				tree("Playful")
			while 
				TestIsNeedGoOut()
				tree("GoOut")
			while
				TestIsAlerted()
				tree("Alerted")
	

tree("Tired")
	sequence
		fallback
			IsSleeping()
			fallback
				Sleepy()
				Irritable()
				Sleep()
		while
			sequence
				not
					IsSleeping()
				CanSleep()
			sequence
				Wait 3.0
				tree("GoToSleep")

tree("GoToSleep")
	sequence
		fallback
			FindBed()
			FindSpot()
		Wait 3.0
		FallAsleep()
		Succeed

tree("Hungry")
	fallback
		while
			TestIsHungry()
			sequence
				GoToBowl()
				fallback
					sequence
						CheckForFood()
						Wait 3.0
						EatFood()
						Wait 3.0
						while
							CheckStillHungry()
							sequence
								BegForFood()
								Wait 3.0
					while
						CheckStillHungry()
						sequence
							BegForFood()
							Wait 3.0
					while
						not
							CheckForFood()
						sequence
							BegForFood()
							Wait 3.0
		Succeed

tree("Lonely")
	fallback
		while
			not
				IsPetting()
			fallback
				LittleLonely()
				Lonely()
				AggressivelyLonely()
				Succeed
		CheckWantPet()
		StopPet()
		Succeed

tree("Playful")
	while
		WantToPlay()
		sequence
			GetReadyToPlay()
			tree("PlayFetch")


tree("GoOut")
	fallback
		sequence
			NeedGoOut()
			GoToDoor()
			fallback
				while
					not
						IsGoingOut()
					fallback
						LittleGoOut()
						GoOut()
						AggressivelyGoOut()
						sequence
							GoOnFloor()
							Succeed
				CheckNeedGoOut()
				StopGoOut()
				Succeed
		Succeed

tree("Alerted")
	sequence
		mute
			while
				IsSleeping()
				sequence
					WakeUp()
					Wait 3.0
		mute
			while
				IsEating()
				sequence
					StopEating()
					Wait 3.0
		fallback
			Alert1()
			Alert2()
			Alert3()
			Alert4()
			DefaultAlert()